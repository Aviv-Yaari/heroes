{"version":3,"sources":["components/AppFooter.tsx","assets/images/coin.svg","services/http.service.ts","assets/images/attack.svg","services/user.service.ts","store/user.actions.ts","components/AppHeader.tsx","assets/images/defense.svg","components/HeroPreview.tsx","components/HeroList.tsx","services/hero.service.ts","components/LoadingSpinner.tsx","store/system.actions.ts","pages/MyHeroesPage.tsx","components/FormField.tsx","pages/AuthPage.tsx","components/HeroFilter.tsx","pages/ExplorePage.tsx","pages/AddPage.tsx","components/HeroDetails.tsx","components/HeroProgress.tsx","pages/HeroPage.tsx","App.tsx","store/system.reducer.ts","store/user.reducer.ts","store/store.ts","index.tsx"],"names":["AppFooter","className","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCoin","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","fill","d","ForwardRef","BASE_URL","axios","Axios","create","withCredentials","ajax","endpoint","a","method","data","url","params","res","message","response","err","console","error","Error","httpService","login","username","password","user","logout","signup","fullname","getCurrentUser","userService","checkRegistration","passwordErrors","usernameErrors","fullnameErrors","push","test","dispatch","type","AppHeader","useState","isMenu","setIsMenu","handleToggleMenu","to","onClick","money","UserMenu","onClose","useDispatch","SvgAttack","opacity","cx","cy","rx","ry","SvgDefense","r","HeroPreview","hero","onTrain","onBuy","_id","name","ability","currentPower","userId","price","trainsToday","trainingHistory","currentUser","useSelector","state","userModule","navigate","useNavigate","isTrainingLimit","isNotEnoughMoney","src","alt","ev","stopPropagation","formatDistanceToNowStrict","date","HeroList","heroes","map","query","filter","URLSearchParams","append","train","heroId","buy","add","heroService","LoadingSpinner","CircularProgress","setAlert","alertInfo","alert","MyHeroesPage","setHeroes","useEffect","getHeroes","handleTrain","updatedHero","FormField","errors","idx","AuthPage","page","setPage","values","setValues","setErrors","isErrros","handleChange","value","handleSubmit","preventDefault","log","handleEasyLogin","onSubmit","charAt","toUpperCase","slice","placeholder","onChange","HeroFilter","ExplorePage","excludingUser","handleBuy","isAdmin","AddPage","colors","Set","Array","from","ColorList","selectedColors","color","isSelected","has","delete","HeroDetails","dateStarted","HeroField","formatDistanceToNow","addSuffix","join","power","HeroProgress","labels","dataset","training","format","Date","reverse","datasets","label","borderColor","backgroundColor","options","responsive","plugins","legend","display","HeroPage","useParams","setHero","getHero","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","App","systemModule","getUser","path","element","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","Alert","severity","initialState","rootReducer","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87007772.chunk.js","sourcesContent":["export function AppFooter() {\r\n  return <footer className=\"app-footer\">Aviv Yaari, 2021</footer>;\r\n}\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCoin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 291.764 291.764\",\n    style: {\n      enableBackground: \"new 0 0 291.764 291.764\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#EFC75E\"\n    },\n    d: \"M145.882,0c80.573,0,145.882,65.319,145.882,145.882s-65.31,145.882-145.882,145.882 S0,226.446,0,145.882S65.31,0,145.882,0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#CC9933\"\n    },\n    d: \"M145.882,27.353c-65.465,0-118.529,53.065-118.529,118.529s53.065,118.529,118.529,118.529 s118.529-53.065,118.529-118.529S211.347,27.353,145.882,27.353z M145.882,246.176c-55.39,0-100.294-44.904-100.294-100.294 S90.493,45.588,145.882,45.588s100.294,44.904,100.294,100.294S201.281,246.176,145.882,246.176z M158.009,138.269 c-5.452-2.289-25.493-5.452-25.493-14.214c0-6.464,7.495-8.334,11.99-8.334c4.094,0,8.999,1.295,11.589,3.875 c1.641,1.577,2.316,2.726,2.854,4.313c0.684,1.869,1.094,3.875,3.684,3.875h13.357c3.136,0,3.957-0.574,3.957-4.021 c0-14.789-11.589-23.122-24.809-25.994V86.28c0-2.58-0.821-4.167-3.957-4.167h-10.64c-3.136,0-3.957,1.577-3.957,4.167v11.051 c-14.178,2.726-26.031,11.634-26.031,27.718c0,18.235,12.683,23.979,26.441,28.566c11.589,3.884,23.724,4.021,23.724,12.063 s-5.99,9.765-13.357,9.765c-5.051,0-10.631-1.304-13.366-4.741c-1.769-2.152-2.453-4.021-2.58-5.89 c-0.274-3.592-1.769-4.021-4.914-4.021H113.28c-3.136,0-3.957,0.729-3.957,4.021c0,16.366,13.093,26.286,27.262,29.441v11.206 c0,2.58,0.821,4.167,3.957,4.167h10.64c3.136,0,3.957-1.586,3.957-4.167v-10.905c16.084-2.453,27.125-12.209,27.125-29.441 C182.28,145.591,167.829,141.424,158.009,138.269z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCoin);\nexport default __webpack_public_path__ + \"static/media/coin.2e80d568.svg\";\nexport { ForwardRef as ReactComponent };","import Axios, { AxiosError, Method } from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : '//localhost:3030/api/';\r\nconst axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nasync function ajax(endpoint: string, method: Method = 'GET', data: {} | null = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data,\r\n      params: method === 'GET' ? data : null,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    const message = (err as AxiosError).response?.data.err || 'HTTP Error';\r\n    console.error(message);\r\n    throw new Error(message);\r\n  }\r\n}\r\n\r\nexport const httpService = {\r\n  get(endpoint: string, data?: {}) {\r\n    return ajax(endpoint, 'GET', data);\r\n  },\r\n  post(endpoint: string, data?: {} | null) {\r\n    return ajax(endpoint, 'POST', data);\r\n  },\r\n  put(endpoint: string, data?: {} | null) {\r\n    return ajax(endpoint, 'PUT', data);\r\n  },\r\n  delete(endpoint: string, data?: {}) {\r\n    return ajax(endpoint, 'DELETE', data);\r\n  },\r\n};\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAttack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 511.992 511.992\",\n    style: {\n      enableBackground: \"new 0 0 511.992 511.992\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#ED5564\"\n    },\n    d: \"M181.552,371.275c0-2.828-1.125-5.546-3.125-7.546l-30.171-30.172 c-4.164-4.171-10.922-4.171-15.086,0l-95.959,95.968c-4.164,4.156-4.164,10.906,0,15.078l30.171,30.171 c4.164,4.155,10.921,4.155,15.085,0l95.959-95.968C180.427,376.807,181.552,374.103,181.552,371.275z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#CCD1D9\"\n    },\n    d: \"M490.804,96.617c1.406-1.414,2.391-3.203,2.844-5.148l18.078-78.405 c0.812-3.586-0.266-7.336-2.859-9.938s-6.359-3.68-9.938-2.852l-78.404,18.062c-1.953,0.453-3.734,1.438-5.141,2.852L140.717,295.84 c-4.164,4.172-4.164,10.922,0,15.094l60.335,60.342c2,2,4.719,3.125,7.546,3.125c2.828,0,5.539-1.125,7.539-3.125L490.804,96.617z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      opacity: 0.2,\n      fill: \"#FFFFFF\",\n      enableBackground: \"new\"\n    },\n    d: \"M508.866,3.126c-2.594-2.602-6.359-3.68-9.938-2.852 l-78.404,18.062c-1.953,0.453-3.734,1.438-5.141,2.852L140.717,295.84c-4.164,4.172-4.164,10.922,0,15.094l60.335,60.342 c2,2,4.719,3.125,7.546,3.125c2.828,0,5.539-1.125,7.539-3.125L490.804,96.617c1.406-1.414,2.391-3.203,2.844-5.148l18.078-78.405 C512.538,9.477,511.46,5.727,508.866,3.126z M501.319,10.665L483.257,89.07L208.598,363.729l-60.342-60.343L422.915,28.735 L501.319,10.665L501.319,10.665L501.319,10.665z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AAB2BC\"\n    },\n    d: \"M170.88,341.104c-4.164-4.172-4.164-10.921,0-15.093l193.238-193.224 c4.172-4.164,10.922-4.164,15.078,0c4.172,4.164,4.172,10.922,0,15.086l-193.23,193.23 C181.802,345.261,175.052,345.261,170.88,341.104z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#DA4453\"\n    },\n    d: \"M77.249,389.478h90.506l10.672-10.672c2-2,3.125-4.703,3.125-7.531c0-1.078-0.164-2.125-0.469-3.125 H98.584L77.249,389.478z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#DA4453\"\n    },\n    d: \"M143.842,413.4H53.328l-16.117,16.125c-1.484,1.484-2.43,3.297-2.859,5.203h88.155L143.842,413.4z\"\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFCE54\"\n    },\n    d: \"M253.848,393.9L118.084,258.138c-4.164-4.164-10.914-4.164-15.078,0l-22.632,22.624 c-4.164,4.172-4.164,10.922,0,15.078l135.763,135.764c2,2,4.711,3.125,7.539,3.125c2.836,0,5.547-1.125,7.547-3.125l22.625-22.625 C258.011,404.822,258.011,398.057,253.848,393.9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFCE54\"\n    },\n    d: \"M85.327,469.321c0-11.391-4.438-22.108-12.492-30.171c-16.64-16.641-43.702-16.641-60.342,0 c-8.055,8.062-12.492,18.78-12.492,30.171c0,11.39,4.438,22.108,12.492,30.171l0,0l0,0c8.062,8.062,18.773,12.5,30.171,12.5 s22.109-4.438,30.171-12.5C80.89,491.43,85.327,480.711,85.327,469.321z\"\n  })), /*#__PURE__*/React.createElement(\"ellipse\", {\n    style: {\n      fill: \"#F6BB42\"\n    },\n    cx: 42.664,\n    cy: 469.316,\n    rx: 10.664,\n    ry: 10.671\n  }), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAttack);\nexport default __webpack_public_path__ + \"static/media/attack.cc085c97.svg\";\nexport { ForwardRef as ReactComponent };","import { httpService } from './http.service';\r\n\r\nconst login = async (username: string, password: string) => {\r\n  const user = await httpService.post('auth/login', { username, password });\r\n  return user;\r\n};\r\n\r\nconst logout = async () => {\r\n  return httpService.post('auth/logout');\r\n};\r\n\r\nconst signup = async (username: string, fullname: string, password: string) => {\r\n  const user = await httpService.post('auth/signup', { username, fullname, password });\r\n  return user;\r\n};\r\n\r\nconst getCurrentUser = async () => {\r\n  const user = await httpService.get('auth/current');\r\n  return user;\r\n};\r\n\r\nconst checkRegistration = ({ username, fullname, password }: { [key: string]: string }) => {\r\n  const passwordErrors = [];\r\n  const usernameErrors = [];\r\n  const fullnameErrors = [];\r\n  if (password.length < 8) passwordErrors.push('Password must be at least 8 characters long');\r\n  if (!/[A-Z]/.test(password)) passwordErrors.push('Password must contain a capital letter');\r\n  if (/^[a-zA-Z0-9]*$/.test(password)) passwordErrors.push('Password must contain a special character');\r\n  if (!/[0-9]/.test(password)) passwordErrors.push('Password must contain a digit');\r\n  if (!username.length) usernameErrors.push('User name is required');\r\n  if (!fullname.length) fullnameErrors.push('Full name is required');\r\n\r\n  return { password: passwordErrors, username: usernameErrors, fullname: fullnameErrors };\r\n};\r\n\r\nexport const userService = { login, signup, logout, getCurrentUser, checkRegistration };\r\n","import { Dispatch } from 'redux';\r\nimport { userService } from '../services/user.service';\r\n\r\nexport const login = (username: string, password: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const user = await userService.login(username, password);\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      user,\r\n    });\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    await userService.logout();\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      user: null,\r\n    });\r\n  };\r\n};\r\n\r\nexport const signup = (username: string, fullname: string, password: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const user = await userService.signup(username, fullname, password);\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      user,\r\n    });\r\n  };\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    const user = await userService.getCurrentUser();\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      user,\r\n    });\r\n  };\r\n};\r\n","import KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { User } from '../store/user.reducer';\r\nimport { ReactComponent as IconCoin } from '../assets/images/coin.svg';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logout } from '../store/user.actions';\r\nimport { useState } from 'react';\r\n\r\ninterface Props {\r\n  user: User;\r\n}\r\nexport function AppHeader({ user }: Props) {\r\n  const [isMenu, setIsMenu] = useState(false);\r\n  const handleToggleMenu = () => {\r\n    setIsMenu(isMenu => !isMenu);\r\n  };\r\n  return (\r\n    <header className=\"flex space-between app-header\">\r\n      <div className=\"flex align-center\">\r\n        <h1>\r\n          <NavLink to=\"/\">Heroes</NavLink>\r\n        </h1>\r\n        {user && <NavLink to=\"/explore\">Explore</NavLink>}\r\n      </div>\r\n      {user && (\r\n        <section className=\"flex username\" onClick={handleToggleMenu}>\r\n          <div className=\"flex align-center user-money\">\r\n            <IconCoin className=\"icon-coin\" />\r\n            <span>{user.money}</span>\r\n          </div>\r\n          <div className=\"flex align-center\">\r\n            <span>{user.username}</span>\r\n            <KeyboardArrowDownIcon />\r\n          </div>\r\n        </section>\r\n      )}\r\n      {isMenu && <UserMenu user={user} onClose={handleToggleMenu} />}\r\n    </header>\r\n  );\r\n}\r\n\r\ninterface MenuProps extends Props {\r\n  onClose: React.MouseEventHandler;\r\n}\r\nfunction UserMenu({ user, onClose }: MenuProps) {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className=\"overlay\" onClick={onClose}>\r\n      <section className=\"user-menu\">\r\n        <div>\r\n          <IconCoin className=\"icon-coin\" />\r\n          <span>{user.money}</span>\r\n        </div>\r\n        <button className=\"btn-link\" onClick={async () => await dispatch(logout())}>\r\n          Logout\r\n        </button>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDefense(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    d: \"M472.68,102.247c-0.189-7.545-6.078-13.572-13.558-14.584c-0.03-0.004-0.06-0.008-0.088-0.012 c-29.945-4.285-52.964-30.038-52.964-61.167v-0.143c0.01-8.15-5.858-15.087-13.912-16.331C357.287,4.625,311.323,0,256.001,0 S154.714,4.625,119.844,10.008c-8.054,1.244-13.923,8.181-13.912,16.331v0.143c0,31.129-23.019,56.883-52.966,61.167 c-0.029,0.004-0.058,0.008-0.088,0.012c-7.48,1.012-13.368,7.038-13.558,14.584C30.044,473.012,256.001,512,256.001,512 S481.957,473.012,472.68,102.247z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#C7CFE2\"\n    },\n    d: \"M256.001,17.655c46.048,0,90.592,3.243,132.418,9.641c0.394,38.37,28.716,71.349,66.665,77.604 c3.242,144.414-30.692,257.514-98.191,327.182c-43.81,45.218-89.063,58.894-100.914,61.843 c-25.763-6.365-206.388-62.873-199.06-389.02c37.79-6.129,66.188-39.079,66.664-77.609 C165.407,20.898,209.953,17.655,256.001,17.655\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AEB5CA\"\n    },\n    d: \"M256.001,35.31c40.181,0,79.172,2.514,116.125,7.481c5.999,35.471,31.238,64.759,65.501,75.967 c0.818,133.1-31.373,237.004-93.415,301.038c-36.459,37.63-74.253,51.652-88.246,55.823c-15.363-4.569-58.521-20.839-98.489-67.738 c-56.017-65.731-83.951-162.937-83.105-289.091c34.212-11.147,59.449-40.441,65.485-75.997 C176.815,37.826,215.816,35.31,256.001,35.31 M256.001,17.655c-46.048,0-90.593,3.243-132.419,9.641 c-0.474,38.53-28.874,71.48-66.664,77.609c-7.327,326.146,173.298,382.656,199.06,389.02c11.851-2.948,57.103-16.626,100.914-61.843 c67.499-69.668,101.434-182.769,98.191-327.182c-37.949-6.255-66.271-39.234-66.665-77.604 C346.593,20.898,302.048,17.655,256.001,17.655L256.001,17.655z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    d: \"M256.001,88.276c26.163,0,51.807,1.131,76.597,3.372c11.558,24.072,29.351,44.595,51.563,59.462 c-3.962,103.273-30.691,183.015-77.988,231.832c-18.477,19.07-37.142,30.05-50.165,36.062c-14.78-6.9-36.832-20.381-58.219-45.475 c-42.912-50.354-66.403-125.055-69.987-222.348c22.215-14.863,40.022-35.416,51.586-59.53 C204.186,89.407,229.836,88.276,256.001,88.276\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC36E\"\n    },\n    d: \"M198.759,90.354c-6.461,0.428-13.015,0.721-19.371,1.295c-11.564,24.115-29.372,44.666-51.586,59.53 c3.585,97.293,27.076,171.994,69.987,222.348c21.386,25.095,43.439,38.575,58.219,45.475 C230.469,389.512,163.95,265.354,198.759,90.354z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AEB5CA\"\n    },\n    d: \"M256.001,88.276c26.163,0,51.807,1.131,76.597,3.372c11.558,24.072,29.351,44.595,51.563,59.462 c-3.962,103.273-30.691,183.015-77.988,231.832c-18.477,19.07-37.142,30.05-50.165,36.062c-14.78-6.9-36.832-20.381-58.219-45.475 c-42.912-50.354-66.403-125.055-69.987-222.348c22.215-14.863,40.022-35.416,51.586-59.53 C204.186,89.407,229.836,88.276,256.001,88.276 M256.001,70.621c-26.607,0-52.919,1.16-78.202,3.446l-9.992,0.904l-4.338,9.046 c-10.19,21.248-25.919,39.399-45.485,52.491l-8.188,5.479l0.363,9.845c3.733,101.318,28.695,179.761,74.194,233.15 c23.459,27.528,47.854,42.396,64.188,50.022l7.426,3.467l7.442-3.434c13.928-6.429,34.852-18.552,55.446-39.806 c50.142-51.754,78.826-135.935,82.951-243.442l0.378-9.86l-8.201-5.489c-19.564-13.096-35.287-31.225-45.469-52.434l-4.34-9.039 l-9.986-0.903C308.909,71.779,282.604,70.621,256.001,70.621L256.001,70.621z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 256.001,\n    cy: 52.966,\n    r: 8.828\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 93.783,\n    cy: 132.414,\n    r: 8.828\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 418.218,\n    cy: 132.414,\n    r: 8.828\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 121.17,\n    cy: 308.966,\n    r: 8.828\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 390.831,\n    cy: 308.966,\n    r: 8.828\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFD782\"\n    },\n    cx: 256.001,\n    cy: 455.724,\n    r: 8.828\n  })), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFE3A8\"\n    },\n    cx: 312.232,\n    cy: 197.473,\n    r: 32.044\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFF3D9\"\n    },\n    cx: 271.14,\n    cy: 136.364,\n    r: 20.028\n  }), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDefense);\nexport default __webpack_public_path__ + \"static/media/defense.5b24ac1d.svg\";\nexport { ForwardRef as ReactComponent };","import { useSelector } from 'react-redux';\r\nimport { RootState } from '../store/store';\r\nimport { Hero } from '../services/hero.service';\r\nimport { ReactComponent as IconAttack } from '../assets/images/attack.svg';\r\nimport { ReactComponent as IconDefense } from '../assets/images/defense.svg';\r\nimport { ReactComponent as IconCoin } from '../assets/images/coin.svg';\r\nimport { useNavigate } from 'react-router';\r\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict';\r\n\r\ninterface Props {\r\n  hero: Hero;\r\n  type: 'Explore' | 'My Heroes';\r\n  onTrain?: Function; // TODO - be more specific\r\n  onBuy?: Function; // TODO - be more specific\r\n}\r\n\r\nexport function HeroPreview({ type, hero, onTrain, onBuy }: Props) {\r\n  const { _id, name, ability, currentPower, userId, price, trainsToday, trainingHistory } = hero;\r\n  const currentUser = useSelector((state: RootState) => state.userModule.user);\r\n  const navigate = useNavigate();\r\n  const isTrainingLimit = trainsToday === 5;\r\n  const isNotEnoughMoney = currentUser.money < hero.price;\r\n\r\n  const handleBuy: React.MouseEventHandler = ev => {\r\n    ev.stopPropagation();\r\n    if (!isNotEnoughMoney) onBuy!(_id);\r\n  };\r\n\r\n  const handleTrain: React.MouseEventHandler = ev => {\r\n    ev.stopPropagation();\r\n    if (!isTrainingLimit) onTrain!(_id);\r\n  };\r\n\r\n  return (\r\n    <li className=\"hero-preview flex column\" key={_id} onClick={() => navigate(`/hero/${_id}`)}>\r\n      <div className=\"flex space-between align-center\">\r\n        {ability === 'attacker' ? <IconAttack className=\"img-ability\" /> : <IconDefense className=\"img-ability\" />}\r\n        <span>{name}</span>\r\n        <span className=\"current-power\">{currentPower}</span>\r\n      </div>\r\n      <img className=\"img-hero\" src={`https://robohash.org/${name}?size=200x200`} alt=\"\" />\r\n      {type === 'Explore' && userId && <p className=\"text-center\">Owned by {userId.username}</p>}\r\n      <div className=\"actions\">\r\n        {!userId && onBuy && (\r\n          <button\r\n            className={`flex align-center justify-center ${isNotEnoughMoney ? 'disabled' : ''}`}\r\n            onClick={handleBuy}>\r\n            <span>Buy </span>\r\n            <IconCoin className=\"icon-coin\" />\r\n            <span>{price || 'Free'}</span>\r\n          </button>\r\n        )}\r\n        {onTrain && (\r\n          <button className={isTrainingLimit ? 'disabled' : ''} onClick={handleTrain}>\r\n            {isTrainingLimit ? formatDistanceToNowStrict(trainingHistory[4].date) : `Train ${trainsToday}/5`}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import { Hero } from '../services/hero.service';\r\nimport { HeroPreview } from './HeroPreview';\r\n\r\ninterface Props {\r\n  heroes: Hero[];\r\n  onTrain?: Function;\r\n  onBuy?: Function;\r\n  type: 'Explore' | 'My Heroes';\r\n}\r\n\r\nexport function HeroList({ heroes, type, onTrain, onBuy }: Props) {\r\n  return (\r\n    <ul className=\"hero-list\">\r\n      {heroes.map(hero => (\r\n        <HeroPreview key={hero._id} hero={hero} type={type} onTrain={onTrain} onBuy={onBuy} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import { httpService } from './http.service';\r\n\r\nexport interface Hero {\r\n  _id: string;\r\n  name: string;\r\n  ability: 'attacker' | 'defender';\r\n  colors: string[];\r\n  trainingHistory: { date: number; power: number }[];\r\n  currentPower: number;\r\n  trainsToday: number;\r\n  userId?: { _id: string; username: string };\r\n  price: number;\r\n}\r\n\r\nconst query = async (filter?: { [key: string]: any }) => {\r\n  const params = new URLSearchParams();\r\n  for (const key in filter) {\r\n    params.append(key, filter[key]);\r\n  }\r\n  const heroes = await httpService.get('hero', params);\r\n  return heroes as Hero[];\r\n};\r\n\r\nconst train = async (heroId: string) => {\r\n  const hero = await httpService.put(`hero/${heroId}/train`);\r\n  return hero;\r\n};\r\n\r\nconst buy = async (heroId: string) => {\r\n  const hero = await httpService.put(`hero/${heroId}/assign`);\r\n  return hero;\r\n};\r\n\r\nconst add = async (hero: object) => {\r\n  await httpService.post('hero', hero);\r\n};\r\n\r\nexport const heroService = { query, train, buy, add };\r\n","import CircularProgress from '@mui/material/CircularProgress';\r\n\r\nexport function LoadingSpinner() {\r\n  return (\r\n    <main className=\" flex align-center justify-center\">\r\n      <CircularProgress />\r\n    </main>\r\n  );\r\n}\r\n","import { Dispatch } from 'redux';\r\nimport { AlertModel } from './system.reducer';\r\n\r\nexport const setAlert = (alertInfo: AlertModel | null) => {\r\n  return (dispatch: Dispatch) =>\r\n    dispatch({\r\n      type: 'SET_ALERT',\r\n      alert: alertInfo,\r\n    });\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { HeroList } from '../components/HeroList';\r\nimport { heroService } from '../services/hero.service';\r\nimport { RootState } from '../store/store';\r\nimport { Hero } from '../services/hero.service';\r\nimport { LoadingSpinner } from '../components/LoadingSpinner';\r\nimport { setAlert } from '../store/system.actions';\r\n\r\nexport function MyHeroesPage() {\r\n  const user = useSelector((state: RootState) => state.userModule.user);\r\n  const dispatch = useDispatch();\r\n  const [heroes, setHeroes] = useState<Hero[] | null>(null);\r\n\r\n  useEffect(() => {\r\n    const getHeroes = async () => {\r\n      try {\r\n        const heroes = await heroService.query({ userId: user._id });\r\n        setHeroes(heroes);\r\n      } catch (err) {\r\n        dispatch(setAlert({ message: 'Could not get hero data', type: 'error' }));\r\n      }\r\n    };\r\n    getHeroes();\r\n  }, [dispatch, user._id]);\r\n\r\n  const handleTrain = async (heroId: string) => {\r\n    try {\r\n      const updatedHero = await heroService.train(heroId);\r\n      setHeroes(heroes => heroes!.map(hero => (hero._id === updatedHero._id ? updatedHero : hero)));\r\n    } catch (err) {\r\n      dispatch(setAlert({ message: 'Could not train hero', type: 'error' }));\r\n    }\r\n  };\r\n\r\n  if (!heroes) return <LoadingSpinner />;\r\n  return (\r\n    <main className=\"container\">\r\n      <div className=\"content my-heroes-page\">\r\n        <h2 className=\"text-center\">My heroes</h2>\r\n        {heroes.length === 0 && <div>You don't own any heroes yet.</div>}\r\n        {heroes.length > 0 && <HeroList heroes={heroes} type=\"My Heroes\" onTrain={handleTrain} />}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","type Props = {\r\n  errors: string[];\r\n  [key: string]: any;\r\n};\r\n\r\nexport function FormField(props: Props) {\r\n  return (\r\n    <div className=\"full-width\">\r\n      <input className={`${props.className || ''} ${props.errors.length ? 'invalid' : ''}`} {...props} />\r\n      {props.errors.map((error, idx) => (\r\n        <p key={idx}>{error}</p>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { FormField } from '../components/FormField';\r\nimport { userService } from '../services/user.service';\r\nimport { setAlert } from '../store/system.actions';\r\nimport { login, signup } from '../store/user.actions';\r\n\r\nexport function AuthPage() {\r\n  const [page, setPage] = useState<'login' | 'signup'>('login');\r\n  const [values, setValues] = useState({ username: '', fullname: '', password: '' });\r\n  const [errors, setErrors] = useState<{ [key: string]: string[] }>({ username: [], fullname: [], password: [] });\r\n  const dispatch = useDispatch();\r\n  const isErrros = errors.username.length || errors.fullname.length || errors.password.length;\r\n\r\n  const handleChangePage = () => {\r\n    if (page === 'login') setPage('signup');\r\n    else setPage('login');\r\n    setValues({ username: '', fullname: '', password: '' });\r\n    setErrors({ username: [], fullname: [], password: [] });\r\n  };\r\n\r\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = ev => {\r\n    setValues(values => {\r\n      const { username, fullname, password } = values;\r\n      if (isErrros) {\r\n        const errors = userService.checkRegistration({\r\n          username,\r\n          fullname,\r\n          password,\r\n          [ev.target.name]: ev.target.value,\r\n        });\r\n        setErrors(errors);\r\n      }\r\n      return { ...values, [ev.target.name]: ev.target.value };\r\n    });\r\n  };\r\n\r\n  const handleSubmit: React.FormEventHandler = async ev => {\r\n    ev.preventDefault();\r\n    const { username, fullname, password } = values;\r\n    try {\r\n      if (page === 'login') {\r\n        await dispatch(login(username, password));\r\n        dispatch(setAlert({ message: 'Logged in successfuly', type: 'success' }));\r\n      } else {\r\n        const errors = userService.checkRegistration({ ...values });\r\n        if (errors.username.length || errors.fullname.length || errors.password.length) return setErrors(errors);\r\n        await dispatch(signup(username, fullname, password));\r\n        dispatch(setAlert({ message: 'Signed up successfuly', type: 'success' }));\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      const { message = 'Could not log in' } = err as Error;\r\n      dispatch(setAlert({ message: page === 'login' ? message : 'Could not sign up', type: 'error' }));\r\n    }\r\n  };\r\n\r\n  const handleEasyLogin = async (username: string, password: string) => {\r\n    try {\r\n      await dispatch(login(username, password));\r\n    } catch (err) {\r\n      dispatch(setAlert({ message: 'An error occured, please try again later', type: 'error' }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form className=\"content flex column align-center auth-page\" onSubmit={handleSubmit}>\r\n        <h2>{page.charAt(0).toUpperCase() + page.slice(1)} to Heroes</h2>\r\n        <FormField\r\n          name=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          value={values.username}\r\n          onChange={handleChange}\r\n          errors={errors.username}\r\n        />\r\n        <FormField\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={values.password}\r\n          onChange={handleChange}\r\n          errors={errors.password}\r\n        />\r\n        {page === 'signup' && (\r\n          <FormField\r\n            name=\"fullname\"\r\n            type=\"text\"\r\n            placeholder=\"Full name\"\r\n            value={values.fullname}\r\n            onChange={handleChange}\r\n            errors={errors.fullname}\r\n          />\r\n        )}\r\n        <button className={`full-width ${isErrros ? 'disabled' : ''}`}>Continue</button>\r\n        <p>\r\n          {page === 'login' ? 'Not a member yet?' : 'Already a member?'}\r\n          <button type=\"button\" className=\"btn-link\" onClick={handleChangePage}>\r\n            {page === 'login' ? 'Join now' : 'Log in'}\r\n          </button>\r\n        </p>\r\n        {/* \"For dev\": */}\r\n        <button type=\"button\" className=\"btn-link\" onClick={() => handleEasyLogin('avivyar', 'Aviv!!1234')}>\r\n          Easy login - dev porpuses\r\n        </button>\r\n        <button type=\"button\" className=\"btn-link\" onClick={() => handleEasyLogin('admin', 'Admin!!1234')}>\r\n          Easy admin login - dev porpuses\r\n        </button>\r\n        {/* End of \"For dev\" */}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","export function HeroFilter() {\r\n  return <section>Filter</section>;\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { HeroFilter } from '../components/HeroFilter';\r\nimport { HeroList } from '../components/HeroList';\r\nimport { LoadingSpinner } from '../components/LoadingSpinner';\r\nimport { heroService } from '../services/hero.service';\r\nimport { Hero } from '../services/hero.service';\r\nimport { RootState } from '../store/store';\r\nimport { setAlert } from '../store/system.actions';\r\nimport { getCurrentUser } from '../store/user.actions';\r\n\r\nexport function ExplorePage() {\r\n  const [heroes, setHeroes] = useState<Hero[] | null>(null);\r\n  const user = useSelector((state: RootState) => state.userModule.user);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getHeroes = async () => {\r\n      try {\r\n        const heroes = await heroService.query();\r\n        const excludingUser = heroes.filter(hero => hero.userId?._id !== user._id);\r\n        setHeroes(excludingUser);\r\n      } catch (err) {\r\n        dispatch(setAlert({ message: 'Could not get hero data', type: 'error' }));\r\n      }\r\n    };\r\n    getHeroes();\r\n  }, [dispatch, user._id]);\r\n\r\n  const handleBuy = async (heroId: string) => {\r\n    try {\r\n      const updatedHero = await heroService.buy(heroId);\r\n      setHeroes(heroes => heroes!.map(hero => (hero._id === updatedHero._id ? updatedHero : hero)));\r\n      await dispatch(getCurrentUser());\r\n      dispatch(setAlert({ message: 'Hero bought', type: 'success' }));\r\n    } catch (err) {\r\n      dispatch(setAlert({ message: 'Could not buy hero', type: 'error' }));\r\n    }\r\n  };\r\n\r\n  if (!heroes) return <LoadingSpinner />;\r\n  return (\r\n    <div className=\"container\">\r\n      <main className=\"content explore-page\">\r\n        <h2>Explore</h2>\r\n        <HeroFilter />\r\n        {user.isAdmin && (\r\n          <button>\r\n            <Link to=\"/add\">Add</Link>\r\n          </button>\r\n        )}\r\n        <HeroList heroes={heroes} type=\"Explore\" onBuy={handleBuy} />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { RootState } from '../store/store';\r\nimport { ReactComponent as IconAttack } from '../assets/images/attack.svg';\r\nimport { ReactComponent as IconDefense } from '../assets/images/defense.svg';\r\nimport { heroService } from '../services/hero.service';\r\nimport { setAlert } from '../store/system.actions';\r\n\r\nexport function AddPage() {\r\n  const user = useSelector((state: RootState) => state.userModule.user);\r\n  const [values, setValues] = useState({ name: '', price: '', ability: '', colors: new Set<string>() });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (user && !user.isAdmin) navigate('/');\r\n  }, [navigate, user]);\r\n\r\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = ev => {\r\n    setValues(values => ({ ...values, [ev.target.name]: ev.target.value }));\r\n  };\r\n\r\n  const handleSubmit: React.FormEventHandler = async ev => {\r\n    ev.preventDefault();\r\n    try {\r\n      await heroService.add({ ...values, colors: Array.from(values.colors) });\r\n      navigate('/explore');\r\n      setAlert({ message: 'Hero added', type: 'success' });\r\n    } catch (err) {\r\n      setAlert({ message: 'Could not add hero', type: 'error' });\r\n    }\r\n  };\r\n\r\n  if (!user) return <div>Loading...</div>;\r\n  return (\r\n    <div className=\"container\">\r\n      <form className=\"content add-page flex column\" onSubmit={handleSubmit}>\r\n        <h2>Create a Hero</h2>\r\n        <div>\r\n          <input name=\"name\" type=\"text\" placeholder=\"Name\" value={values.name} onChange={handleChange} />\r\n          <input name=\"price\" type=\"text\" placeholder=\"Price\" value={values.price} onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          <p>Ability:</p>\r\n          <section className=\"flex ability\">\r\n            <div\r\n              className={values.ability === 'attacker' ? 'selected' : ''}\r\n              onClick={() => setValues(values => ({ ...values, ability: 'attacker' }))}>\r\n              <IconAttack />\r\n              <span>Attacker</span>\r\n            </div>\r\n            <div\r\n              className={values.ability === 'defender' ? 'selected' : ''}\r\n              onClick={() => setValues(values => ({ ...values, ability: 'defender' }))}>\r\n              <IconDefense />\r\n              <span>Defender</span>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <div>\r\n          <p>Colors:</p>\r\n          <ColorList\r\n            selectedColors={values.colors}\r\n            colors={['red', 'green', 'blue']}\r\n            onClick={(colors: Set<string>) => setValues(values => ({ ...values, colors }))}\r\n          />\r\n        </div>\r\n        <button>Create</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ColorProps {\r\n  selectedColors: Set<string>;\r\n  colors: string[];\r\n  onClick: Function;\r\n}\r\nfunction ColorList({ selectedColors, colors, onClick }: ColorProps) {\r\n  return (\r\n    <section className=\"flex wrap color-list\">\r\n      {colors.map(color => {\r\n        const isSelected = selectedColors.has(color);\r\n        return (\r\n          <span\r\n            key={color}\r\n            className={`color ${isSelected ? 'selected' : ''}`}\r\n            style={{ color }}\r\n            onClick={() => {\r\n              isSelected ? selectedColors.delete(color) : selectedColors.add(color);\r\n              onClick(new Set(selectedColors));\r\n            }}>\r\n            {color}\r\n          </span>\r\n        );\r\n      })}\r\n    </section>\r\n  );\r\n}\r\n","import { Hero } from '../services/hero.service';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\n\r\ninterface Props {\r\n  hero: Hero;\r\n}\r\n\r\nexport function HeroDetails({ hero }: Props) {\r\n  const { name, ability, colors, currentPower, trainingHistory, userId, price } = hero;\r\n  const dateStarted = trainingHistory.length && trainingHistory[trainingHistory.length - 1].date;\r\n  return (\r\n    <section className=\"hero-details flex align-center\">\r\n      <div>\r\n        <h2>Hero Details</h2>\r\n        <HeroField name=\"Name\" value={name} />\r\n        <HeroField name=\"Ability\" value={ability} />\r\n        <HeroField\r\n          name=\"Started training at\"\r\n          value={dateStarted ? formatDistanceToNow(dateStarted, { addSuffix: true }) : 'None'}\r\n        />\r\n        <HeroField name=\"Suit colors\" value={colors.join(', ') || 'None'} />\r\n        <HeroField name=\"Previous power\" value={trainingHistory[1]?.power || 0} />\r\n        <HeroField name=\"Current power\" value={currentPower} />\r\n        <HeroField name=\"Owner\" value={(userId as any)?.username || 'None'} />\r\n        <HeroField name=\"Price\" value={price} />\r\n      </div>\r\n      <img className=\"img-hero\" src={`https://robohash.org/${hero.name}?size=300x300`} alt=\"\" />\r\n    </section>\r\n  );\r\n}\r\n\r\ninterface FieldProps {\r\n  name: string;\r\n  value: string | number;\r\n}\r\nfunction HeroField({ name, value }: FieldProps) {\r\n  return (\r\n    <div>\r\n      <span>{name}: </span>\r\n      <span>{value}</span>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport { format } from 'date-fns';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { Hero } from '../services/hero.service';\r\n\r\ninterface Props {\r\n  trainingHistory: Hero['trainingHistory'];\r\n}\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\nexport function HeroProgress({ trainingHistory }: Props) {\r\n  // const labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];\r\n  const labels = [];\r\n  const dataset = [];\r\n  for (const training of trainingHistory) {\r\n    labels.push(format(new Date(training.date), 'dd/MM h:m'));\r\n    dataset.push(training.power);\r\n  }\r\n  // const labels = trainingHistory.reverse().map(training => format(new Date(training.date), 'dd/MM h:m'));\r\n  // const dataset = trainingHistory.map(training => training.power);\r\n  const options = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n    },\r\n  };\r\n\r\n  const data = {\r\n    labels: labels.reverse(),\r\n    datasets: [\r\n      {\r\n        label: 'Power',\r\n        data: dataset.reverse(),\r\n        borderColor: 'rgb(255, 99, 132)',\r\n        backgroundColor: 'rgba(255, 99, 132, 0.5)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <section className=\"hero-progress\">\r\n      <h2 className=\"text-center\">Progress</h2>\r\n      <Line data={data} options={options} />\r\n    </section>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { HeroDetails } from '../components/HeroDetails';\r\nimport { HeroProgress } from '../components/HeroProgress';\r\nimport { LoadingSpinner } from '../components/LoadingSpinner';\r\nimport { Hero, heroService } from '../services/hero.service';\r\nimport { setAlert } from '../store/system.actions';\r\n\r\nexport function HeroPage() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [hero, setHero] = useState<Hero | null>(null);\r\n\r\n  useEffect(() => {\r\n    const getHero = async () => {\r\n      try {\r\n        const hero = await heroService.query({ _id: id });\r\n        setHero(hero[0]);\r\n      } catch (err) {\r\n        setAlert({ message: 'Could not get hero data', type: 'error' });\r\n      }\r\n    };\r\n    getHero();\r\n  }, [id]);\r\n\r\n  if (!hero) return <LoadingSpinner />;\r\n  return (\r\n    <div className=\"container\">\r\n      <main className=\"content hero-page\">\r\n        <button className=\"btn-link\" onClick={() => navigate(-1)}>\r\n          Back\r\n        </button>\r\n        <HeroDetails hero={hero} />\r\n        <HeroProgress trainingHistory={hero.trainingHistory} />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { AppFooter } from './components/AppFooter';\r\nimport { AppHeader } from './components/AppHeader';\r\nimport { MyHeroesPage } from './pages/MyHeroesPage';\r\nimport { AuthPage } from './pages/AuthPage';\r\nimport { RootState } from './store/store';\r\nimport { useEffect } from 'react';\r\nimport { getCurrentUser } from './store/user.actions';\r\nimport { ExplorePage } from './pages/ExplorePage';\r\nimport { AddPage } from './pages/AddPage';\r\nimport { HeroPage } from './pages/HeroPage';\r\nimport { Alert, Snackbar } from '@mui/material';\r\nimport { setAlert } from './store/system.actions';\r\n\r\nexport function App() {\r\n  const user = useSelector((state: RootState) => state.userModule.user);\r\n  const alert = useSelector((state: RootState) => state.systemModule.alert);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        await dispatch(getCurrentUser());\r\n      } catch (err) {\r\n        setAlert({ message: 'Sorry, an error occured', type: 'error' });\r\n      }\r\n    };\r\n    getUser();\r\n  }, [dispatch]);\r\n\r\n  const handleCloseAlert = () => {\r\n    dispatch(setAlert(null));\r\n  };\r\n\r\n  return (\r\n    <div className=\"app main-layout\">\r\n      <AppHeader user={user} />\r\n      {!user && <AuthPage />}\r\n      {user && (\r\n        <Routes>\r\n          <Route path=\"/\" element={<MyHeroesPage />} />\r\n          <Route path=\"/explore\" element={<ExplorePage />} />\r\n          <Route path=\"/add\" element={<AddPage />} />\r\n          <Route path=\"/hero/:id\" element={<HeroPage />} />\r\n          <Route path=\"*\" element={<MyHeroesPage />} />\r\n        </Routes>\r\n      )}\r\n      <AppFooter />\r\n      {alert && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n          open\r\n          autoHideDuration={6000}\r\n          onClose={handleCloseAlert}>\r\n          <Alert severity={alert.type}>{alert.message}</Alert>\r\n        </Snackbar>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Action } from 'redux';\r\n\r\nexport interface AlertModel {\r\n  type: 'error' | 'success';\r\n  message: string;\r\n}\r\n\r\ninterface IAction extends Action {\r\n  alert: AlertModel;\r\n}\r\n\r\nconst initialState = {\r\n  alert: null,\r\n};\r\n\r\nexport function systemReducer(state = initialState, action: IAction) {\r\n  switch (action.type) {\r\n    case 'SET_ALERT':\r\n      return { ...state, alert: action.alert };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Action } from 'redux';\r\nimport { Hero } from '../services/hero.service';\r\n\r\nexport interface User {\r\n  _id: string;\r\n  username: string;\r\n  fullname: string;\r\n  heroes: string[];\r\n  isAdmin: false;\r\n  money: number;\r\n}\r\n\r\ninterface IAction extends Action {\r\n  user: User;\r\n  heroes: Hero[];\r\n}\r\n\r\nconst initialState = {\r\n  user: null,\r\n};\r\n\r\nexport function userReducer(state = initialState, action: IAction) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, user: action.user };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Hero } from '../services/hero.service';\r\nimport { AlertModel, systemReducer } from './system.reducer';\r\nimport { User, userReducer } from './user.reducer';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  userModule: userReducer,\r\n  systemModule: systemReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport interface RootState {\r\n  userModule: {\r\n    user: User;\r\n    heroes: Hero[];\r\n  };\r\n  systemModule: {\r\n    alert: AlertModel;\r\n  };\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './App';\r\nimport './assets/styles/main.scss';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(26),a=n.n(c),l=n(13),s=n(5),i=n(1);function u(){return Object(i.jsx)("footer",{className:"app-footer",children:"Aviv Yaari, 2021"})}var o,j,p,b,f,d,m,h,O,x,v,g,y,E,w,k=n(17),C=["title","titleId"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function F(e,t){var n=e.title,c=e.titleId,a=S(e,C);return r.createElement("svg",N({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 291.764 291.764",style:{enableBackground:"new 0 0 291.764 291.764"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,r.createElement("g",null,r.createElement("path",{style:{fill:"#EFC75E"},d:"M145.882,0c80.573,0,145.882,65.319,145.882,145.882s-65.31,145.882-145.882,145.882 S0,226.446,0,145.882S65.31,0,145.882,0z"}),r.createElement("path",{style:{fill:"#CC9933"},d:"M145.882,27.353c-65.465,0-118.529,53.065-118.529,118.529s53.065,118.529,118.529,118.529 s118.529-53.065,118.529-118.529S211.347,27.353,145.882,27.353z M145.882,246.176c-55.39,0-100.294-44.904-100.294-100.294 S90.493,45.588,145.882,45.588s100.294,44.904,100.294,100.294S201.281,246.176,145.882,246.176z M158.009,138.269 c-5.452-2.289-25.493-5.452-25.493-14.214c0-6.464,7.495-8.334,11.99-8.334c4.094,0,8.999,1.295,11.589,3.875 c1.641,1.577,2.316,2.726,2.854,4.313c0.684,1.869,1.094,3.875,3.684,3.875h13.357c3.136,0,3.957-0.574,3.957-4.021 c0-14.789-11.589-23.122-24.809-25.994V86.28c0-2.58-0.821-4.167-3.957-4.167h-10.64c-3.136,0-3.957,1.577-3.957,4.167v11.051 c-14.178,2.726-26.031,11.634-26.031,27.718c0,18.235,12.683,23.979,26.441,28.566c11.589,3.884,23.724,4.021,23.724,12.063 s-5.99,9.765-13.357,9.765c-5.051,0-10.631-1.304-13.366-4.741c-1.769-2.152-2.453-4.021-2.58-5.89 c-0.274-3.592-1.769-4.021-4.914-4.021H113.28c-3.136,0-3.957,0.729-3.957,4.021c0,16.366,13.093,26.286,27.262,29.441v11.206 c0,2.58,0.821,4.167,3.957,4.167h10.64c3.136,0,3.957-1.586,3.957-4.167v-10.905c16.084-2.453,27.125-12.209,27.125-29.441 C182.28,145.591,167.829,141.424,158.009,138.269z"})),o||(o=r.createElement("g",null)),j||(j=r.createElement("g",null)),p||(p=r.createElement("g",null)),b||(b=r.createElement("g",null)),f||(f=r.createElement("g",null)),d||(d=r.createElement("g",null)),m||(m=r.createElement("g",null)),h||(h=r.createElement("g",null)),O||(O=r.createElement("g",null)),x||(x=r.createElement("g",null)),v||(v=r.createElement("g",null)),g||(g=r.createElement("g",null)),y||(y=r.createElement("g",null)),E||(E=r.createElement("g",null)),w||(w=r.createElement("g",null)))}var M=r.forwardRef(F),_=(n.p,n(3)),L=n.n(_),A=n(8),P=n(41),D="/api/",B=n.n(P).a.create({withCredentials:!0});function T(e){return z.apply(this,arguments)}function z(){return z=Object(A.a)(L.a.mark((function e(t){var n,r,c,a,l=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,e.prev=2,e.next=5,B({url:"".concat(D).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.dir(e.t0),null===(a=e.t0.response)||void 0===a?void 0:a.data.err;case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),z.apply(this,arguments)}var H=function(e,t){return T(e,"GET",t)},I=function(e,t){return T(e,"POST",t)},U=function(e,t){return T(e,"PUT",t)},R=function(){var e=Object(A.a)(L.a.mark((function e(t,n){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/login",{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(A.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("auth/logout"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(A.a)(L.a.mark((function e(t,n,r){var c,a,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("auth/signup",{username:t,fullname:n,password:r});case 3:return c=e.sent,e.abrupt("return",c);case 7:if(e.prev=7,e.t0=e.catch(0),l=null===(a=e.t0.response)||void 0===a?void 0:a.data.err,!Array.isArray(l)){e.next=12;break}throw l.join("<br>");case 12:throw l;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("auth/current");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G={login:R,signup:q,logout:X,getCurrentUser:J},V=function(e,t){return function(){var n=Object(A.a)(L.a.mark((function n(r){var c;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G.login(e,t);case 2:c=n.sent,r({type:"SET_USER",user:c});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Y=function(e,t,n){return function(){var r=Object(A.a)(L.a.mark((function r(c){var a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G.signup(e,t,n);case 2:a=r.sent,c({type:"SET_USER",user:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},K=function(){return function(){var e=Object(A.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getCurrentUser();case 2:n=e.sent,t({type:"SET_USER",user:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Q(e){var t=e.user,n=Object(l.b)();return Object(i.jsxs)("header",{className:"flex space-between app-header",children:[Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("h1",{children:"Heroes"}),t&&Object(i.jsx)(k.c,{to:"/",children:"My Heroes"}),Object(i.jsx)(k.c,{to:"/explore",children:"Explore"})]}),Object(i.jsxs)("div",{className:"flex",children:[!t&&Object(i.jsx)(k.c,{to:"/login",children:"Login"}),t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"flex align-center",children:[Object(i.jsx)(M,{className:"icon-coin"}),Object(i.jsx)("span",{children:t.money})]}),Object(i.jsx)("span",{children:t.username}),Object(i.jsx)("button",{className:"btn-link",onClick:function(){return n(function(){var e=Object(A.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})]})]})}var W,Z,$,ee,te,ne,re,ce,ae,le,se,ie,ue,oe,je,pe=n(9);function be(e){var t=e.message.split("<br>");return Object(i.jsx)("section",{className:"error-message",children:t.map((function(e,t){return Object(i.jsx)("p",{children:e},t)}))})}var fe=["title","titleId"];function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function he(e,t){var n=e.title,c=e.titleId,a=me(e,fe);return r.createElement("svg",de({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.992 511.992",style:{enableBackground:"new 0 0 511.992 511.992"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,r.createElement("path",{style:{fill:"#ED5564"},d:"M181.552,371.275c0-2.828-1.125-5.546-3.125-7.546l-30.171-30.172 c-4.164-4.171-10.922-4.171-15.086,0l-95.959,95.968c-4.164,4.156-4.164,10.906,0,15.078l30.171,30.171 c4.164,4.155,10.921,4.155,15.085,0l95.959-95.968C180.427,376.807,181.552,374.103,181.552,371.275z"}),r.createElement("path",{style:{fill:"#CCD1D9"},d:"M490.804,96.617c1.406-1.414,2.391-3.203,2.844-5.148l18.078-78.405 c0.812-3.586-0.266-7.336-2.859-9.938s-6.359-3.68-9.938-2.852l-78.404,18.062c-1.953,0.453-3.734,1.438-5.141,2.852L140.717,295.84 c-4.164,4.172-4.164,10.922,0,15.094l60.335,60.342c2,2,4.719,3.125,7.546,3.125c2.828,0,5.539-1.125,7.539-3.125L490.804,96.617z"}),r.createElement("path",{style:{opacity:.2,fill:"#FFFFFF",enableBackground:"new"},d:"M508.866,3.126c-2.594-2.602-6.359-3.68-9.938-2.852 l-78.404,18.062c-1.953,0.453-3.734,1.438-5.141,2.852L140.717,295.84c-4.164,4.172-4.164,10.922,0,15.094l60.335,60.342 c2,2,4.719,3.125,7.546,3.125c2.828,0,5.539-1.125,7.539-3.125L490.804,96.617c1.406-1.414,2.391-3.203,2.844-5.148l18.078-78.405 C512.538,9.477,511.46,5.727,508.866,3.126z M501.319,10.665L483.257,89.07L208.598,363.729l-60.342-60.343L422.915,28.735 L501.319,10.665L501.319,10.665L501.319,10.665z"}),r.createElement("path",{style:{fill:"#AAB2BC"},d:"M170.88,341.104c-4.164-4.172-4.164-10.921,0-15.093l193.238-193.224 c4.172-4.164,10.922-4.164,15.078,0c4.172,4.164,4.172,10.922,0,15.086l-193.23,193.23 C181.802,345.261,175.052,345.261,170.88,341.104z"}),r.createElement("g",null,r.createElement("path",{style:{fill:"#DA4453"},d:"M77.249,389.478h90.506l10.672-10.672c2-2,3.125-4.703,3.125-7.531c0-1.078-0.164-2.125-0.469-3.125 H98.584L77.249,389.478z"}),r.createElement("path",{style:{fill:"#DA4453"},d:"M143.842,413.4H53.328l-16.117,16.125c-1.484,1.484-2.43,3.297-2.859,5.203h88.155L143.842,413.4z"})),r.createElement("g",null,r.createElement("path",{style:{fill:"#FFCE54"},d:"M253.848,393.9L118.084,258.138c-4.164-4.164-10.914-4.164-15.078,0l-22.632,22.624 c-4.164,4.172-4.164,10.922,0,15.078l135.763,135.764c2,2,4.711,3.125,7.539,3.125c2.836,0,5.547-1.125,7.547-3.125l22.625-22.625 C258.011,404.822,258.011,398.057,253.848,393.9z"}),r.createElement("path",{style:{fill:"#FFCE54"},d:"M85.327,469.321c0-11.391-4.438-22.108-12.492-30.171c-16.64-16.641-43.702-16.641-60.342,0 c-8.055,8.062-12.492,18.78-12.492,30.171c0,11.39,4.438,22.108,12.492,30.171l0,0l0,0c8.062,8.062,18.773,12.5,30.171,12.5 s22.109-4.438,30.171-12.5C80.89,491.43,85.327,480.711,85.327,469.321z"})),r.createElement("ellipse",{style:{fill:"#F6BB42"},cx:42.664,cy:469.316,rx:10.664,ry:10.671}),W||(W=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),$||($=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)),re||(re=r.createElement("g",null)),ce||(ce=r.createElement("g",null)),ae||(ae=r.createElement("g",null)),le||(le=r.createElement("g",null)),se||(se=r.createElement("g",null)),ie||(ie=r.createElement("g",null)),ue||(ue=r.createElement("g",null)),oe||(oe=r.createElement("g",null)),je||(je=r.createElement("g",null)))}var Oe,xe,ve,ge,ye,Ee,we,ke,Ce,Ne,Se,Fe,Me,_e,Le,Ae=r.forwardRef(he),Pe=(n.p,["title","titleId"]);function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Te(e,t){var n=e.title,c=e.titleId,a=Be(e,Pe);return r.createElement("svg",De({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,r.createElement("path",{style:{fill:"#FFD782"},d:"M472.68,102.247c-0.189-7.545-6.078-13.572-13.558-14.584c-0.03-0.004-0.06-0.008-0.088-0.012 c-29.945-4.285-52.964-30.038-52.964-61.167v-0.143c0.01-8.15-5.858-15.087-13.912-16.331C357.287,4.625,311.323,0,256.001,0 S154.714,4.625,119.844,10.008c-8.054,1.244-13.923,8.181-13.912,16.331v0.143c0,31.129-23.019,56.883-52.966,61.167 c-0.029,0.004-0.058,0.008-0.088,0.012c-7.48,1.012-13.368,7.038-13.558,14.584C30.044,473.012,256.001,512,256.001,512 S481.957,473.012,472.68,102.247z"}),r.createElement("path",{style:{fill:"#C7CFE2"},d:"M256.001,17.655c46.048,0,90.592,3.243,132.418,9.641c0.394,38.37,28.716,71.349,66.665,77.604 c3.242,144.414-30.692,257.514-98.191,327.182c-43.81,45.218-89.063,58.894-100.914,61.843 c-25.763-6.365-206.388-62.873-199.06-389.02c37.79-6.129,66.188-39.079,66.664-77.609 C165.407,20.898,209.953,17.655,256.001,17.655"}),r.createElement("path",{style:{fill:"#AEB5CA"},d:"M256.001,35.31c40.181,0,79.172,2.514,116.125,7.481c5.999,35.471,31.238,64.759,65.501,75.967 c0.818,133.1-31.373,237.004-93.415,301.038c-36.459,37.63-74.253,51.652-88.246,55.823c-15.363-4.569-58.521-20.839-98.489-67.738 c-56.017-65.731-83.951-162.937-83.105-289.091c34.212-11.147,59.449-40.441,65.485-75.997 C176.815,37.826,215.816,35.31,256.001,35.31 M256.001,17.655c-46.048,0-90.593,3.243-132.419,9.641 c-0.474,38.53-28.874,71.48-66.664,77.609c-7.327,326.146,173.298,382.656,199.06,389.02c11.851-2.948,57.103-16.626,100.914-61.843 c67.499-69.668,101.434-182.769,98.191-327.182c-37.949-6.255-66.271-39.234-66.665-77.604 C346.593,20.898,302.048,17.655,256.001,17.655L256.001,17.655z"}),r.createElement("path",{style:{fill:"#FFD782"},d:"M256.001,88.276c26.163,0,51.807,1.131,76.597,3.372c11.558,24.072,29.351,44.595,51.563,59.462 c-3.962,103.273-30.691,183.015-77.988,231.832c-18.477,19.07-37.142,30.05-50.165,36.062c-14.78-6.9-36.832-20.381-58.219-45.475 c-42.912-50.354-66.403-125.055-69.987-222.348c22.215-14.863,40.022-35.416,51.586-59.53 C204.186,89.407,229.836,88.276,256.001,88.276"}),r.createElement("path",{style:{fill:"#FFC36E"},d:"M198.759,90.354c-6.461,0.428-13.015,0.721-19.371,1.295c-11.564,24.115-29.372,44.666-51.586,59.53 c3.585,97.293,27.076,171.994,69.987,222.348c21.386,25.095,43.439,38.575,58.219,45.475 C230.469,389.512,163.95,265.354,198.759,90.354z"}),r.createElement("path",{style:{fill:"#AEB5CA"},d:"M256.001,88.276c26.163,0,51.807,1.131,76.597,3.372c11.558,24.072,29.351,44.595,51.563,59.462 c-3.962,103.273-30.691,183.015-77.988,231.832c-18.477,19.07-37.142,30.05-50.165,36.062c-14.78-6.9-36.832-20.381-58.219-45.475 c-42.912-50.354-66.403-125.055-69.987-222.348c22.215-14.863,40.022-35.416,51.586-59.53 C204.186,89.407,229.836,88.276,256.001,88.276 M256.001,70.621c-26.607,0-52.919,1.16-78.202,3.446l-9.992,0.904l-4.338,9.046 c-10.19,21.248-25.919,39.399-45.485,52.491l-8.188,5.479l0.363,9.845c3.733,101.318,28.695,179.761,74.194,233.15 c23.459,27.528,47.854,42.396,64.188,50.022l7.426,3.467l7.442-3.434c13.928-6.429,34.852-18.552,55.446-39.806 c50.142-51.754,78.826-135.935,82.951-243.442l0.378-9.86l-8.201-5.489c-19.564-13.096-35.287-31.225-45.469-52.434l-4.34-9.039 l-9.986-0.903C308.909,71.779,282.604,70.621,256.001,70.621L256.001,70.621z"}),r.createElement("g",null,r.createElement("circle",{style:{fill:"#FFD782"},cx:256.001,cy:52.966,r:8.828}),r.createElement("circle",{style:{fill:"#FFD782"},cx:93.783,cy:132.414,r:8.828}),r.createElement("circle",{style:{fill:"#FFD782"},cx:418.218,cy:132.414,r:8.828}),r.createElement("circle",{style:{fill:"#FFD782"},cx:121.17,cy:308.966,r:8.828}),r.createElement("circle",{style:{fill:"#FFD782"},cx:390.831,cy:308.966,r:8.828}),r.createElement("circle",{style:{fill:"#FFD782"},cx:256.001,cy:455.724,r:8.828})),r.createElement("circle",{style:{fill:"#FFE3A8"},cx:312.232,cy:197.473,r:32.044}),r.createElement("circle",{style:{fill:"#FFF3D9"},cx:271.14,cy:136.364,r:20.028}),Oe||(Oe=r.createElement("g",null)),xe||(xe=r.createElement("g",null)),ve||(ve=r.createElement("g",null)),ge||(ge=r.createElement("g",null)),ye||(ye=r.createElement("g",null)),Ee||(Ee=r.createElement("g",null)),we||(we=r.createElement("g",null)),ke||(ke=r.createElement("g",null)),Ce||(Ce=r.createElement("g",null)),Ne||(Ne=r.createElement("g",null)),Se||(Se=r.createElement("g",null)),Fe||(Fe=r.createElement("g",null)),Me||(Me=r.createElement("g",null)),_e||(_e=r.createElement("g",null)),Le||(Le=r.createElement("g",null)))}var ze=r.forwardRef(Te);n.p;function He(e){e.type;var t=e.hero,n=e.onTrain,r=e.onBuy,c=t._id,a=t.name,u=t.ability,o=t.currentPower,j=t.userId,p=t.price,b=t.trainsToday,f=Object(l.c)((function(e){return e.userModule.user})),d=Object(s.f)();return Object(i.jsxs)("li",{className:"hero-preview flex column",onClick:function(){return d("/hero/".concat(c))},children:[Object(i.jsxs)("div",{className:"flex space-between",children:["attacker"===u?Object(i.jsx)(Ae,{className:"img-ability"}):Object(i.jsx)(ze,{className:"img-ability"}),Object(i.jsx)("span",{children:a}),Object(i.jsx)("span",{children:o})]}),Object(i.jsx)("img",{className:"img-hero",src:"https://robohash.org/".concat(a,"?size=200x200"),alt:""}),Object(i.jsxs)("div",{className:"actions",children:[!j&&r&&Object(i.jsxs)("button",{className:"flex align-center justify-center ".concat(f.money<t.price?"disabled":""),onClick:function(e){e.stopPropagation(),r(c)},children:[Object(i.jsx)("span",{children:"Buy "}),Object(i.jsx)(M,{className:"icon-coin"}),Object(i.jsx)("span",{children:p||"Free"})]}),n&&Object(i.jsxs)("button",{onClick:function(e){e.stopPropagation(),n(c)},children:["Train ",b,"/5"]})]})]},c)}function Ie(e){var t=e.heroes,n=e.type,r=e.onTrain,c=e.onBuy;return Object(i.jsx)("ul",{className:"hero-list",children:t.map((function(e){return Object(i.jsx)(He,{hero:e,type:n,onTrain:r,onBuy:c},e._id)}))})}var Ue=function(){var e=Object(A.a)(L.a.mark((function e(t){var n,r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n=new URLSearchParams,t)n.append(r,t[r]);return e.next=4,H("hero",n);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(A.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("hero/".concat(t,"/train"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(A.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("hero/".concat(t,"/assign"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(A.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("hero",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je={query:Ue,train:Re,buy:Xe,add:qe},Ge=n(86);function Ve(){return Object(i.jsx)("main",{className:" flex align-center justify-center",children:Object(i.jsx)(Ge.a,{})})}function Ye(){var e=Object(l.c)((function(e){return e.userModule.user})),t=Object(r.useState)(null),n=Object(pe.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),u=Object(pe.a)(s,2),o=u[0],j=u[1];Object(r.useEffect)((function(){var t=function(){var t=Object(A.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Je.query({userId:e._id});case 3:n=t.sent,a(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),j(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]);var p=function(){var e=Object(A.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.train(t);case 3:n=e.sent,a((function(e){return e.map((function(e){return e._id===n._id?n:e}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return c?Object(i.jsx)("main",{className:"container",children:Object(i.jsxs)("div",{className:"content heroes-page",children:[o&&Object(i.jsx)(be,{message:o}),0===c.length&&Object(i.jsx)("div",{children:"No heroes to show"}),c.length>0&&Object(i.jsx)(Ie,{heroes:c,type:"My Heroes",onTrain:p})]})}):Object(i.jsx)(Ve,{})}var Ke=n(7),Qe=n(10);function We(){var e=Object(r.useState)("login"),t=Object(pe.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)({username:"",fullname:"",password:""}),s=Object(pe.a)(a,2),u=s[0],o=s[1],j=Object(r.useState)(""),p=Object(pe.a)(j,2),b=p[0],f=p[1],d=Object(l.b)(),m=function(){c("login"===n?"signup":"login"),f(""),o({username:"",fullname:"",password:""})},h=function(e){o((function(t){return Object(Qe.a)(Object(Qe.a)({},t),{},Object(Ke.a)({},e.target.name,e.target.value))}))},O=function(){var e=Object(A.a)(L.a.mark((function e(t){var r,c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=u.username,c=u.fullname,a=u.password,e.prev=2,"login"!==n){e.next=8;break}return e.next=6,d(V(r,a));case 6:e.next=10;break;case 8:return e.next=10,d(Y(r,c,a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{className:"content flex column align-center auth-page",onSubmit:O,children:[b&&Object(i.jsx)(be,{message:b}),Object(i.jsxs)("h2",{children:[n.charAt(0).toUpperCase()+n.slice(1)," to Heroes"]}),Object(i.jsx)("input",{name:"username",type:"text",placeholder:"Username",value:u.username,onChange:h}),Object(i.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:u.password,onChange:h}),"signup"===n&&Object(i.jsx)("input",{name:"fullname",type:"text",placeholder:"Full name",value:u.fullname,onChange:h}),Object(i.jsx)("button",{className:"full-width",children:"Continue"}),"login"===n?Object(i.jsxs)("p",{children:["Not a member yet?",Object(i.jsx)("button",{type:"button",className:"btn-link",onClick:m,children:"Join now"})]}):Object(i.jsxs)("p",{children:["Already a member?",Object(i.jsx)("button",{type:"button",className:"btn-link",onClick:m,children:"Log in"})]}),Object(i.jsx)("button",{type:"button",className:"btn-link",onClick:function(){return d(V("avivyar","Aviv!!1234"))},children:"Easy login - dev porpuses"}),Object(i.jsx)("button",{type:"button",className:"btn-link",onClick:function(){return d(V("admin","Admin!!1234"))},children:"Easy admin login - dev porpuses"})]})})}function Ze(){var e=Object(r.useState)(null),t=Object(pe.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(pe.a)(a,2),u=s[0],o=s[1],j=Object(l.c)((function(e){return e.userModule.user})),p=Object(l.b)();Object(r.useEffect)((function(){var e=function(){var e=Object(A.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.query();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var b=function(){var e=Object(A.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.buy(t);case 3:n=e.sent,c((function(e){return e.map((function(e){return e._id===n._id?n:e}))})),p(K()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("main",{className:"content explore-page",children:[u&&Object(i.jsx)(be,{message:u}),j.isAdmin&&Object(i.jsx)("button",{children:Object(i.jsx)(k.b,{to:"/add",children:"Add"})}),Object(i.jsx)(Ie,{heroes:n,type:"Explore",onBuy:b})]})})}):Object(i.jsx)(Ve,{})}function $e(){var e=Object(l.c)((function(e){return e.userModule.user})),t=Object(r.useState)({name:"",price:"",ability:"",colors:new Set}),n=Object(pe.a)(t,2),c=n[0],a=n[1],u=Object(s.f)();Object(r.useEffect)((function(){e&&!e.isAdmin&&u("/")}),[u,e]);var o=function(e){a((function(t){return Object(Qe.a)(Object(Qe.a)({},t),{},Object(Ke.a)({},e.target.name,e.target.value))}))},j=function(){var e=Object(A.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Je.add(Object(Qe.a)(Object(Qe.a)({},c),{},{colors:Array.from(c.colors)}));case 4:alert("Hero created!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(JSON.stringify(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{className:"content add-page flex column",onSubmit:j,children:[Object(i.jsx)("h2",{children:"Create a Hero"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{name:"name",type:"text",placeholder:"Name",value:c.name,onChange:o}),Object(i.jsx)("input",{name:"price",type:"text",placeholder:"Price",value:c.price,onChange:o})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Ability:"}),Object(i.jsxs)("section",{className:"flex ability",children:[Object(i.jsxs)("div",{className:"attacker"===c.ability?"selected":"",onClick:function(){return a((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{ability:"attacker"})}))},children:[Object(i.jsx)(Ae,{}),Object(i.jsx)("span",{children:"Attacker"})]}),Object(i.jsxs)("div",{className:"defender"===c.ability?"selected":"",onClick:function(){return a((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{ability:"defender"})}))},children:[Object(i.jsx)(ze,{}),Object(i.jsx)("span",{children:"Defender"})]})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Colors:"}),Object(i.jsx)(et,{selectedColors:c.colors,colors:["red","green","blue"],onClick:function(e){return a((function(t){return Object(Qe.a)(Object(Qe.a)({},t),{},{colors:e})}))}})]}),Object(i.jsx)("button",{children:"Create"})]})}):Object(i.jsx)("div",{children:"Loading..."})}function et(e){var t=e.selectedColors,n=e.colors,r=e.onClick;return Object(i.jsx)("section",{className:"flex wrap color-list",children:n.map((function(e){var n=t.has(e);return Object(i.jsx)("span",{className:"color ".concat(n?"selected":""),style:{color:e},onClick:function(){n?t.delete(e):t.add(e),r(new Set(t))},children:e},e)}))})}var tt=n(43);function nt(e){var t,n=e.hero,r=n.name,c=n.ability,a=n.colors,l=n.currentPower,s=n.trainingHistory,u=n.userId,o=n.price,j=s.length&&s[s.length-1].date;return Object(i.jsxs)("section",{className:"hero-details flex align-center",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Hero Details"}),Object(i.jsx)(rt,{name:"Name",value:r}),Object(i.jsx)(rt,{name:"Ability",value:c}),Object(i.jsx)(rt,{name:"Training since",value:j?Object(tt.a)(j,{addSuffix:!0}):"None"}),Object(i.jsx)(rt,{name:"Suit colors",value:a.join(", ")||"None"}),Object(i.jsx)(rt,{name:"Previous power",value:(null===(t=s[1])||void 0===t?void 0:t.power)||0}),Object(i.jsx)(rt,{name:"Current power",value:l}),Object(i.jsx)(rt,{name:"Owner",value:(null===u||void 0===u?void 0:u.username)||"None"}),Object(i.jsx)(rt,{name:"Price",value:o})]}),Object(i.jsx)("img",{className:"img-hero",src:"https://robohash.org/".concat(n.name,"?size=300x300"),alt:""})]})}function rt(e){var t=e.name,n=e.value;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("span",{children:[t,": "]}),Object(i.jsx)("span",{children:n})]})}var ct=n(6),at=n(12),lt=n(87),st=n(44);function it(e){var t,n=e.trainingHistory,r=[],c=[],a=Object(ct.a)(n);try{for(a.s();!(t=a.n()).done;){var l=t.value;r.push(Object(lt.a)(new Date(l.date),"dd/MM h:m")),c.push(l.power)}}catch(u){a.e(u)}finally{a.f()}var s={labels:r.reverse(),datasets:[{label:"Power",data:c.reverse(),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return Object(i.jsxs)("section",{className:"hero-progress",children:[Object(i.jsx)("h2",{className:"text-center",children:"Progress"}),Object(i.jsx)(st.a,{data:s,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})}function ut(){var e=Object(s.g)().id,t=Object(s.f)(),n=Object(r.useState)(null),c=Object(pe.a)(n,2),a=c[0],l=c[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(A.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je.query({_id:e});case 2:n=t.sent,l(n[0]);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),a?Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("main",{className:"content hero-page",children:[Object(i.jsx)("button",{className:"btn-link",onClick:function(){return t(-1)},children:"Back"}),Object(i.jsx)(nt,{hero:a}),Object(i.jsx)(it,{trainingHistory:a.trainingHistory})]})}):Object(i.jsx)(Ve,{})}function ot(){var e=Object(l.c)((function(e){return e.userModule.user})),t=Object(l.b)();return Object(r.useEffect)((function(){t(K())}),[t]),Object(i.jsxs)("div",{className:"app main-layout",children:[Object(i.jsx)(Q,{user:e}),!e&&Object(i.jsx)(We,{}),e&&Object(i.jsxs)(s.c,{children:[Object(i.jsx)(s.a,{path:"/",element:Object(i.jsx)(Ye,{})}),Object(i.jsx)(s.a,{path:"/explore",element:Object(i.jsx)(Ze,{})}),Object(i.jsx)(s.a,{path:"/add",element:Object(i.jsx)($e,{})}),Object(i.jsx)(s.a,{path:"/hero/:id",element:Object(i.jsx)(ut,{})})]}),Object(i.jsx)(u,{})]})}at.d.register(at.c,at.i,at.k,at.h,at.o,at.p,at.f);n(77);var jt=n(22),pt=n(42),bt={user:null};var ft=Object(jt.b)({userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.user};case"SET_HEROES":return{heroes:t.heroes};default:return e}}}),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||jt.c,mt=Object(jt.d)(ft,dt(Object(jt.a)(pt.a)));a.a.render(Object(i.jsx)(l.a,{store:mt,children:Object(i.jsx)(k.a,{children:Object(i.jsx)(ot,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.f4b90709.chunk.js.map